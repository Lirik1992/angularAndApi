<!DOCTYPE html>
<html lang="en" ng-app="eventsApp">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lirikus</title>
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/app.css">
</head>

<body ng-cloak>
  <div class="container">
    <div class="navbar">
      <div class="navbar-inner">
        <ul class="nav">
          <li>
            <a href="/NewEvent.html">Create Event</a>
          </li>
          <li>
            <a href="/CreateDevices.html"><sup></sup>Create Devices</a>
          </li>
        </ul>
      </div>

      <style>
        input.ng-dirty.ng-invalid {
          background-color: pink
        }
      </style>
      <div ng-controller="EditEventController" style="padding-left:20px;padding-right:20px">
        <div class="container">
          <h1>New Event</h1>
          <hr />
          <form name="newEventForm">
            <fieldset>
              <div ng-show="newEventForm.eventName.$error.minlength" class="alert alert-warning">
                <strong>Warning!</strong> Name must be over 5 symbols.
              </div>

              <label for="eventName">Event Name: </label>
              <input type="text" minlength="5" name="eventName" id="eventName" required ng-model="event.name" placeholder="Name of your event..."
              />
              <label for="eventDate">Event Date: </label>
              <input type="text" name="eventDate" id="eventDate" required ng-pattern="/^((0[13578]|1[02])[\/.]31[\/.](18|19|20)[0-9]{2})|((01|0[3-9]|1[1-2])[\/.](29|30)[\/.](18|19|20)[0-9]{2})|((0[1-9]|1[0-2])[\/.](0[1-9]|1[0-9]|2[0-8])[\/.](18|19|20)[0-9]{2})|((02)[\/.]29[\/.](((18|19|20)(04|08|[2468][048]|[13579][26]))|2000))$/"
                ng-model="event.date" placeholder="format (mm/dd/yy)" />
              <label for="eventTime">Event Time: </label>
              <input type="text" name="eventTime" id="eventTime" ng-model="event.time" placeholder="start and end time..." />
              <label for="eventLocation">Event Location: </label>
              <input type="text" name="eventLocation" id="eventLocation" ng-model="event.location.address" placeholder="Address of the event..."
              />
              <br />
              <input type="text" name="eventCity" id="eventCity" ng-model="event.location.city" class="input-small" placeholder="City...">
              <input type="text" name="eventProvince" id="eventProvince" ng-model="event.location.province" class="input-small" placeholder="Province...">

              <label for="eventImageUrl">Image:</label>
              <input type="url" name="eventImageUrl" id="eventImageUrl" ng-model="event.imageUrl" class="input-xlarge" placeholder="Url of the image...">
            </fieldset>

            <img ng-src="{{event.imageUrl}}" src="" />
            <br />
            <br />

            <button type="submit" ng-click="saveEvent(event, newEventForm)" class="btn btn-primary">Save</button>
            <button type="button" ng-click="cancelEvent()" class="btn btn-default">Cancel</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <script src="/lib/jquery.min.js"></script>
  <script src="/lib/underscore-1.4.4.min.js"></script>
  <script src="/lib/bootstrap.min.js"></script>
  <script src="/lib/angular/angular.js"></script>
  <script src="/lib/angular/angular-sanitize.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/controllers/EventEditController.js"></script>
  <script src="/js/filters.js"></script>

</body>

</html>